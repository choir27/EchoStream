(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[522],{1956:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return h}});var a=s(7437);s(7330),s(3813);var n=s(4627),t=s(4573),r=s(9787),i=s(3650),o=s(2674),d=s(5688),c=s(2646);function h(){let e=(0,n.o)(e=>e.searchResults),l=(0,t.Z)("auth"),s=e.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.name?e.name:e.playlistName}),(0,a.jsx)("td",{children:e.audio?(0,a.jsx)("button",{className:"button small",onClick:l=>{l.preventDefault(),localStorage.setItem("song",e.$id),window.location.reload()},children:"Play"}):""}),(0,a.jsx)("td",{}),(0,a.jsx)("td",{children:e.user}),(0,a.jsx)("td",{children:e.audio?(0,a.jsx)(d.Z,{index:s}):"  "}),(0,a.jsx)("td",{children:(null==l?void 0:l.toLowerCase())===e.user&&e.audio?(0,r.z)({text:"",className:"fa-solid fa-trash button small",onClick:l=>(0,c.at)(e.$id,e.cloudinaryId)}):""})]},"".concat(e.$id,"-").concat(e.name)));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)("section",{id:"home",className:"main",children:(0,a.jsxs)("div",{id:"tableContainer",children:[(0,a.jsx)("h2",{children:"Search Results"}),e.length?(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("th",{children:"Play"}),(0,a.jsx)("th",{}),(0,a.jsx)("th",{children:l?"":"User"}),(0,a.jsx)("th",{children:"Playlist"}),(0,a.jsx)("th",{children:"Delete"})]})}),(0,a.jsx)("tbody",{children:s})]}):(0,a.jsx)("h2",{children:"No Results Match Your Search"})]})}),(0,a.jsx)(o.Z,{})]})}},2674:function(e,l,s){"use strict";s.d(l,{Z:function(){return n}});var a=s(7437);function n(){return(0,a.jsx)("footer",{className:"flex",children:(0,a.jsxs)("nav",{className:"flex",children:[(0,a.jsxs)("ul",{className:"flex icons",children:[(0,a.jsx)("li",{children:(0,a.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://twitter.com/choir241",className:"fa-brands fa-twitter",children:(0,a.jsx)("p",{className:"hidden",children:"Twitter"})})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.linkedin.com/in/richard-choir/",className:"fa-brands fa-linkedin",children:(0,a.jsx)("p",{className:"hidden",children:"LinkedIn"})})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.instagram.com/225kh_drw/?hl=en",className:"fa-brands fa-instagram",children:(0,a.jsx)("p",{className:"hidden",children:"Instagram"})})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://github.com/choir27",className:"fa-brands fa-github",children:(0,a.jsx)("p",{className:"hidden",children:"Github"})})})]}),(0,a.jsx)("small",{children:"EchoVerse \xa9 2023. All rights are reserved"})]})})}s(2265)},3650:function(e,l,s){"use strict";s.d(l,{Z:function(){return u}});var a=s(7437),n=s(7138),t=s(1154),r=s(9787),i=s(4627),o=s(23);function d(){let e=(0,i.o)(e=>e.searchValue),l=(0,i.o)(e=>e.setSearchValue),s=(0,i.o)(e=>e.setSearchResults),n=(0,i.o)(e=>e.song),t=(0,i.o)(e=>e.listOfSongs),d=(0,i.o)(e=>e.setSearchDisplay);return(0,a.jsxs)("form",{children:[(0,a.jsx)("input",{type:"search",onChange:e=>l(e.target.value)}),(0,a.jsx)(r.z,{text:"",className:"fa-solid fa-magnifying-glass button",onClick:l=>{l.preventDefault(),function(){let l=[];n.forEach(s=>{var a,n,t;((null==s?void 0:null===(a=s.audio)||void 0===a?void 0:a.toLowerCase().includes(e.toLowerCase()))||(null==s?void 0:null===(n=s.name)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null==s?void 0:null===(t=s.user)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase())))&&l.push(s)}),t.forEach(s=>{var a,n;((null==s?void 0:null===(a=s.playlistName)||void 0===a?void 0:a.toLowerCase().includes(e.toLowerCase()))||(null==s?void 0:null===(n=s.user)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase())))&&l.push(s),s.playlistSongs.forEach(a=>{var n,t,r;let i=JSON.parse(a);((null==i?void 0:null===(n=i.audio)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null==i?void 0:null===(t=i.name)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase()))||(null==i?void 0:null===(r=i.user)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase())))&&l.push(s)})}),l.length||(console.log("No Results Match Your Search"),o.Am.error("No Results Match Your Search")),s(l),d(!0)}()}})]})}var c=s(6463),h=s(4573);function u(){async function e(e){try{e.preventDefault(),sessionStorage.removeItem("auth"),await t.Z.deleteCurrentSession(),window.location.reload(),(0,c.redirect)("/")}catch(e){console.error(e)}}let l=(0,i.o)(e=>e.setHeaderDisplay),s=(0,i.o)(e=>e.headerDisplay),o=(0,h.Z)("auth");return(0,a.jsxs)("header",{className:"flex column",id:"header",children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.default,{href:"/",children:(0,a.jsx)("h1",{children:"EchoStream"})})}),(0,r.z)({text:"",className:"".concat("display"===s?"fa-solid fa-xmark button small hidden":"fa-solid fa-bars button small hidden"),id:"menu",onClick:()=>void("display"===s?l("hidden"):l("display"))}),(0,a.jsx)("nav",{className:"flex column nav ".concat(s),children:(0,a.jsxs)("ul",{className:"flex navBar",children:[(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/about",children:"About"})}),o?(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/account",children:"Account"})}):"",o?(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/addAudio",children:"Add Audio"})}):"",o?(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/",onClick:l=>e(l),children:"Logout"})}):"",o?"":(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/demo",children:"Demo"})}),o?"":(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/login",children:"Login/Register"})}),(0,a.jsx)("li",{children:(0,a.jsx)(d,{})})]})})]})}},9809:function(e,l,s){"use strict";s.d(l,{Z:function(){return d}});var a=s(7437),n=s(2265),t=s(6319);s(2459);var r=s(4627),i=s(9787);function o(){return(0,i.z)({text:"Shuffle",className:"button small",onClick:e=>(function(){let e=JSON.parse(localStorage.getItem("playlist")),l=e.song,s=l.length,a;for(;s>0;)a=Math.floor(Math.random()*s),s--,[l[s],l[a]]=[l[a],l[s]];localStorage.setItem("playlist",JSON.stringify({id:e.id,song:l})),window.location.reload()})()})}function d(){let[e,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)(0),[d,c]=(0,n.useState)([]),[h,u]=(0,n.useState)(""),f=(0,r.o)(e=>e.song);(0,n.useEffect)(()=>{try{if(f.length&&!localStorage.getItem("playlist")){let e=localStorage.getItem("song"),l=JSON.parse(e),s=f.filter(e=>e.audio===l[0]);c(s),u(l)}else if(localStorage.getItem("playlist")){let e=[],l=localStorage.getItem("playlist"),s=JSON.parse(l),a=new Map(f.map(e=>[e.audio,e]));s.song.forEach(l=>{let s=a.get(l);s&&e.push(s)}),c(e),u(s.song)}}catch(e){console.error(e)}},[f]);let x=()=>{i(e=>e<h.length-1?e+1:0),l(!0)};return(0,a.jsxs)("section",{id:"player",children:[(0,a.jsx)("section",{children:(0,a.jsxs)("section",{className:"playerInfo",children:[(0,a.jsx)("h3",{children:"Currently Playing Song"}),(0,a.jsx)("h2",{children:d[s]?d[s].name:"No music has been added"}),(0,a.jsx)(o,{})]})}),h.length>0&&(0,a.jsx)(t.Z,{autoPlay:e,onEnded:x,showSkipControls:!0,showJumpControls:!1,src:h[s],onClickPrevious:()=>{i(e=>0===e?h.length-1:e-1),l(!0)},onClickNext:x,timeFormat:"auto"},s)]})}},7330:function(){},3813:function(){}}]);