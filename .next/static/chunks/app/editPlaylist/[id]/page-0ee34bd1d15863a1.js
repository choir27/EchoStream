(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90],{8140:function(e,t,s){Promise.resolve().then(s.bind(s,2943)),Promise.resolve().then(s.t.bind(s,8574,23)),Promise.resolve().then(s.bind(s,189))},7614:function(e,t,s){"use strict";var n=s(7332),r=s(2601);let a={sdk:null,provider:()=>{if(a.sdk)return a.sdk;let e=new n.KU;e.setEndpoint("https://cloud.appwrite.io/v1").setProject("64a0712c1618df1be9a2");let t=new n.mR(e),s=new n.Lg(e),r=new n.KU(e),o=new n.Ke(e);return a.sdk={database:s,account:t,client:r,storage:o},a.sdk},createAccount:(e,t,s)=>a.provider().account.create("unique()",e,t,s),updateAccountName:e=>a.provider().account.updateName(e),updateAccountPassword:(e,t)=>a.provider().account.updatePassword(e,t),updateAccountEmail:(e,t)=>a.provider().account.updateEmail(e,t),getAccount:()=>a.provider().account.get(),createSession:(e,t)=>a.provider().account.createEmailSession(e,t),deleteCurrentSession:()=>a.provider().account.deleteSession("current"),deleteSessions:()=>a.provider().account.deleteSessions(),createDocument:(e,t,s,n)=>a.provider().database.createDocument(e,t,"unique()",s,n),listDocuments:(e,t)=>a.provider().database.listDocuments(e,t),updateDocument:(e,t,s,n)=>a.provider().database.updateDocument(e,t,s,n),deleteDocument:(e,t,s)=>a.provider().database.deleteDocument(e,t,s),uploadFile:(e,t)=>a.provider().storage.createFile(r.env.NEXT_PUBLIC_APP_SONGS,e,t),listFiles:()=>a.provider().storage.listFiles(r.env.NEXT_PUBLIC_APP_SONGS)};t.Z=a},6908:function(e,t,s){"use strict";s.d(t,{Z:function(){return o},z:function(){return i}});var n=s(7437),r=s(1396),a=s.n(r);function o(e){return(0,n.jsx)(a(),{href:e.domain,className:e.className,children:e.text})}function i(e){return(0,n.jsx)("button",{className:e.className,onClick:t=>e.onClick(t),children:e.text},e.key)}s(2265)},2943:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var n=s(7437),r=s(1396),a=s.n(r),o=s(7614),i=s(4033),l=s(6908),c=s(108);function u(){let e=(0,c.o)(e=>e.searchValue),t=(0,c.o)(e=>e.setSearchValue),s=(0,c.o)(e=>e.setSearchResults),r=(0,c.o)(e=>e.song),a=(0,c.o)(e=>e.listOfSongs),{push:o}=(0,i.useRouter)();return(0,n.jsxs)("form",{children:[(0,n.jsx)("input",{type:"search",onChange:e=>t(e.target.value)}),(0,n.jsx)(l.z,{text:"",className:"fa-solid fa-magnifying-glass button",onClick:t=>{t.preventDefault(),function(){let t=[];r.forEach(s=>{(s.audio.toLowerCase().includes(e.toLowerCase())||s.name.toLowerCase().includes(e.toLowerCase())||s.user.toLowerCase().includes(e.toLowerCase()))&&t.push(s)}),a.forEach(s=>{(s.playlistName.toLowerCase().includes(e.toLowerCase())||s.user.toLowerCase().includes(e.toLowerCase()))&&t.push(s),s.playlistSongs.forEach(n=>{let r=JSON.parse(n);(r.audio.toLowerCase().includes(e.toLowerCase())||r.name.toLowerCase().includes(e.toLowerCase())||r.user.toLowerCase().includes(e.toLowerCase()))&&t.push(s)})}),s(t),o("/search")}()}})]})}var d=s(70);function h(){async function e(e){try{e.preventDefault(),sessionStorage.removeItem("auth"),await o.Z.deleteCurrentSession(),window.location.reload(),(0,i.redirect)("/")}catch(e){console.error(e)}}let t=(0,d.Z)("auth");return(0,n.jsxs)("header",{className:"flex column",children:[(0,n.jsx)("div",{children:(0,n.jsx)(a(),{href:"/",children:(0,n.jsx)("h1",{children:"EchoStream"})})}),(0,n.jsx)("nav",{className:"flex column",children:(0,n.jsxs)("ul",{className:"flex navBar",children:[(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/",children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/about",children:"About"})}),t?(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/account",children:"Account"})}):"",t?(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/addAudio",children:"Add Audio"})}):"",t?(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/",onClick:t=>e(t),children:"Logout"})}):"",t?"":(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/demo",children:"Demo"})}),t?"":(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/login",children:"Login/Register"})}),(0,n.jsx)("li",{children:(0,n.jsx)(u,{})})]})})]})}},189:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var n=s(7437),r=s(2265),a=s(108),o=s(9211),i=s(6908),l=s(7614),c=s(4033);async function u(e,t,s){try{let n={playlistName:e,playlistSongs:t.playlistSongs,userID:s.$id,user:s.email};await l.Z.updateDocument("6543e6631929ba50ffd1","6543e8ebf074d567b450",t.$id,n),window.location.reload()}catch(e){console.error(e)}}async function d(e,t,s){try{let n=t.playlistSongs.map(e=>e),r=n.find(t=>{let s=JSON.parse(t);return s.$id===e});n.splice(n.indexOf(r),1);let a={playlistName:t.playlistName,playlistSongs:n,userID:s.$id,user:s.email};await l.Z.updateDocument("6543e6631929ba50ffd1","6543e8ebf074d567b450",t.$id,a),window.location.reload()}catch(e){console.error(e)}}async function h(e,t){try{await l.Z.deleteDocument("6543e6631929ba50ffd1","6543e8ebf074d567b450",e.$id),localStorage.setItem("playlist",""),t("/")}catch(e){console.error(e)}}function f(e){let t=(0,a.o)(e=>e.listOfSongs),s=(0,r.useContext)(o.S),[l,f]=(0,r.useState)(!1),[p,x]=(0,r.useState)(""),m=t.find(t=>t.$id===e.id),j=null==m?void 0:m.$updatedAt,v=new Date(j),{push:g}=(0,c.useRouter)(),S=null==m?void 0:m.playlistSongs.map(e=>{let t=JSON.parse(e);return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:t.name}),(0,n.jsx)("td",{children:t.artist}),(0,n.jsx)("td",{children:t.genre}),(0,n.jsx)("td",{children:t.user}),(0,n.jsx)("td",{children:(0,i.z)({text:"",className:"fa-solid fa-xmark button small",onClick:e=>{e.preventDefault(),d(t.$id,m,s)}})})]},t.$id)});return(0,n.jsxs)("div",{id:"tableContainer",children:[(0,n.jsx)("section",{children:l?(0,n.jsxs)("form",{className:"flex spaceEvenly",children:[(0,n.jsx)("h2",{children:"Edit Playlist Name"}),(0,n.jsx)("input",{type:"text",onChange:e=>x(e.target.value)}),(0,i.z)({text:"",className:"fa-solid fa-pen-to-square button",onClick:e=>{e.preventDefault(),u(p,m,s)}}),(0,i.z)({text:"",className:"fa-solid fa-right-from-bracket button",onClick:e=>{e.preventDefault(),f(!1)}})]}):(0,n.jsxs)("div",{className:"flex spaceEvenly",children:[(0,n.jsxs)("h2",{children:["Playlist Name: ",null==m?void 0:m.playlistName]}),(0,i.z)({text:"",className:"fa-regular fa-pen-to-square button",onClick:e=>{e.preventDefault(),f(!0)}}),(0,i.z)({text:"",className:"fa-solid fa-trash-can button",onClick:e=>{e.preventDefault(),h(m,g)}})]})}),(0,n.jsxs)("h3",{children:["Updated At: ",v.getMonth()+1,"/",v.getDate(),"/",v.getFullYear()]}),(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Song Name"}),(0,n.jsx)("th",{children:"Artist"}),(0,n.jsx)("th",{children:"Genre"}),(0,n.jsx)("th",{children:"User"}),(0,n.jsx)("th",{children:"Remove"})]})}),(0,n.jsx)("tbody",{children:S})]})]})}},9211:function(e,t,s){"use strict";s.d(t,{S:function(){return o},Z:function(){return i}});var n=s(7437),r=s(2265),a=s(7614);let o=(0,r.createContext)({});function i(e){let{children:t}=e,[s,i]=(0,r.useState)();return(0,r.useEffect)(()=>{async function e(){let e=await a.Z.getAccount();i(e)}sessionStorage.getItem("auth")&&e()},[]),(0,n.jsx)(o.Provider,{value:s,children:t})}},70:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var n=s(2265);function r(e){let[t,s]=(0,n.useState)("");return(0,n.useEffect)(()=>{s(sessionStorage.getItem(e))},[]),t}},108:function(e,t,s){"use strict";s.d(t,{o:function(){return a}});var n=s(4660),r=s(7173);let a=(0,n.Ue)(e=>({song:[],setSong:t=>{e((0,r.Uy)(e=>{e.song=t}))},listOfSongs:[],setListOfSongs:t=>{e((0,r.Uy)(e=>{e.listOfSongs=t}))},searchValue:"",setSearchValue:t=>{e((0,r.Uy)(e=>{e.searchValue=t}))},searchResults:[],setSearchResults:t=>{e((0,r.Uy)(e=>{e.searchResults=t}))},songDisplay:!1,setSongDisplay:t=>{e((0,r.Uy)(e=>{e.songDisplay=t}))}}))},8574:function(){},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[195,971,472,744],function(){return e(e.s=8140)}),_N_E=e.O()}]);