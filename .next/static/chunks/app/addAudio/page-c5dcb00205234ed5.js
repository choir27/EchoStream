(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[935],{4112:function(e,s,i){Promise.resolve().then(i.bind(i,3457))},3457:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return f}});var n=i(7437),t=i(2265),a=i(3650),l=i(2674);function r(e){let s=["Pop music","Rock","Rhythm and blues","Hip hop music","Popular music","Electronic music","Electronic dance music","Blues","Heavy metal","Country music","Classical music","Jazz","Folk music","Easy listening","Funk","Reggae","Progressive rock","Music of Latin America","Punk rock","New-age music","Soul music","Pop rock","Synth-pop","Indie rock","World music","Industrial music","Disco","Vocal music","Alternative rock","Techno","New wave","Latin music","Dance music","House music","Latin pop","Indie pop","Tejano music","Soundtrack","Instrumental","Children's music","Jungle music","J-pop","Experimental music","Christian/Gospel","Post-disco","Dub","Ska","Drum and bass","Electronica","Electronic rock"].map(e=>(0,n.jsx)("option",{children:e},e));return(0,n.jsx)("select",{onChange:s=>e.onGenreChange(s),children:s})}var o=i(23),d=i(8472),c=i(7937);i(7330),i(3813);var h=i(6463),u=i(4627),m=i(1956);class x extends t.Component{onFileChange(e){this.setState({audioFile:e.target.files[0]})}onArtistChange(e){this.setState({artist:e.target.value})}onGenreChange(e){this.setState({genre:e.target.value})}async onSubmit(e){try{if(e.preventDefault(),this.setState({loading:!0}),this.state.audioFile&&(this.state.audioFile.name.includes("mp3")||this.state.audioFile.name.includes("ogg"))){var s,i,n,t;let e=new FormData;e.append("file",this.state.audioFile),e.append("user",null===(i=this.props)||void 0===i?void 0:null===(s=i.userContext)||void 0===s?void 0:s.email),e.append("userID",null===(t=this.props)||void 0===t?void 0:null===(n=t.userContext)||void 0===n?void 0:n.$id),e.append("genre",this.state.genre),e.append("artist",this.state.artist),d.Z.post("https://echoverse-backend.onrender.com/addAudio",e,{}).then(e=>{console.log(e),e&&(this.setState({loading:!1}),this.props.push("/"))}).catch(e=>{console.error(e),this.setState({loading:!1})})}else if(this.state.audioFile){o.Am.error("Incorrect File Uploaded. Please Upload An Audio File");return}else{o.Am.error("Please Upload a File");return}}catch(e){console.error(e)}}render(){return(0,n.jsx)(n.Fragment,{children:this.props.searchDisplay?(0,n.jsx)(m.default,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{}),(0,n.jsx)("section",{className:"main",id:"add",children:this.state.loading?(0,n.jsx)("section",{className:"major",children:(0,n.jsx)("h1",{children:"Loading..."})}):(0,n.jsx)("section",{children:(0,n.jsxs)("form",{onSubmit:this.onSubmit,children:[(0,n.jsxs)("div",{className:"flex column alignItems",children:[(0,n.jsx)("h1",{children:"Add Audio"}),(0,n.jsx)("label",{htmlFor:"file",className:"button large",children:"Add Audio"}),(0,n.jsx)("input",{type:"file",name:"file",className:"hidden",id:"file",onChange:this.onFileChange}),(0,n.jsx)("span",{children:this.state.audioFile?this.state.audioFile.name:"No File Chosen"}),(0,n.jsxs)("section",{className:"flex justifyBetween inputs",children:[(0,n.jsx)("input",{type:"text",name:"artistName",onChange:this.onArtistChange,placeholder:"Add Artist of Song"}),(0,n.jsx)(r,{onGenreChange:e=>this.onGenreChange(e)})]})]}),(0,n.jsx)("div",{className:"flex justifyContent",children:(0,n.jsx)("button",{type:"submit",className:"button large",children:"Upload Audio"})})]})})}),(0,n.jsx)(l.Z,{})]})})}constructor(e){super(e),this.onFileChange=this.onFileChange.bind(this),this.onArtistChange=this.onArtistChange.bind(this),this.onGenreChange=this.onGenreChange.bind(this),this.onSubmit=this.onSubmit.bind(this),this.state={audioFile:{},artist:"",genre:"",loading:!1}}}var f=()=>{let e=(0,t.useContext)(c.S),{push:s}=(0,h.useRouter)(),i=(0,u.o)(e=>e.searchDisplay),a=(0,u.o)(e=>e.setSearchDisplay);return(0,t.useEffect)(()=>{a(!1)},[]),(0,n.jsx)(x,{searchDisplay:i,userContext:e,push:s})}},1956:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return h}});var n=i(7437);i(7330),i(3813);var t=i(4627),a=i(4573),l=i(9787),r=i(3650),o=i(2674),d=i(5688),c=i(2646);function h(){let e=(0,t.o)(e=>e.searchResults),s=(0,a.Z)("auth"),i=e.map((e,i)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.name?e.name:e.playlistName}),(0,n.jsx)("td",{children:e.audio?(0,n.jsx)("button",{className:"button small",onClick:s=>{s.preventDefault(),localStorage.setItem("song",e.$id),window.location.reload()},children:"Play"}):""}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{children:e.user}),(0,n.jsx)("td",{children:e.audio?(0,n.jsx)(d.Z,{index:i}):"  "}),(0,n.jsx)("td",{children:(null==s?void 0:s.toLowerCase())===e.user&&e.audio?(0,l.z)({text:"",className:"fa-solid fa-trash button small",onClick:s=>(0,c.at)(e.$id,e.cloudinaryId)}):""})]},"".concat(e.$id,"-").concat(e.name)));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{}),(0,n.jsx)("section",{id:"home",className:"main",children:(0,n.jsxs)("div",{id:"tableContainer",children:[(0,n.jsx)("h2",{children:"Search Results"}),e.length?(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Name"}),(0,n.jsx)("th",{children:"Play"}),(0,n.jsx)("th",{}),(0,n.jsx)("th",{children:s?"":"User"}),(0,n.jsx)("th",{children:"Playlist"}),(0,n.jsx)("th",{children:"Delete"})]})}),(0,n.jsx)("tbody",{children:i})]}):(0,n.jsx)("h2",{children:"No Results Match Your Search"})]})}),(0,n.jsx)(o.Z,{})]})}},2674:function(e,s,i){"use strict";i.d(s,{Z:function(){return t}});var n=i(7437);function t(){return(0,n.jsx)("footer",{className:"flex",children:(0,n.jsxs)("nav",{className:"flex",children:[(0,n.jsxs)("ul",{className:"flex icons",children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://twitter.com/choir241",className:"fa-brands fa-twitter",children:(0,n.jsx)("p",{className:"hidden",children:"Twitter"})})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.linkedin.com/in/richard-choir/",className:"fa-brands fa-linkedin",children:(0,n.jsx)("p",{className:"hidden",children:"LinkedIn"})})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.instagram.com/225kh_drw/?hl=en",className:"fa-brands fa-instagram",children:(0,n.jsx)("p",{className:"hidden",children:"Instagram"})})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://github.com/choir27",className:"fa-brands fa-github",children:(0,n.jsx)("p",{className:"hidden",children:"Github"})})})]}),(0,n.jsx)("small",{children:"EchoVerse \xa9 2023. All rights are reserved"})]})})}i(2265)},3650:function(e,s,i){"use strict";i.d(s,{Z:function(){return u}});var n=i(7437),t=i(7138),a=i(1154),l=i(9787),r=i(4627),o=i(23);function d(){let e=(0,r.o)(e=>e.searchValue),s=(0,r.o)(e=>e.setSearchValue),i=(0,r.o)(e=>e.setSearchResults),t=(0,r.o)(e=>e.song),a=(0,r.o)(e=>e.listOfSongs),d=(0,r.o)(e=>e.setSearchDisplay);return(0,n.jsxs)("form",{children:[(0,n.jsx)("input",{type:"search",onChange:e=>s(e.target.value)}),(0,n.jsx)(l.z,{text:"",className:"fa-solid fa-magnifying-glass button",onClick:s=>{s.preventDefault(),function(){let s=[];t.forEach(i=>{var n,t,a;((null==i?void 0:null===(n=i.audio)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null==i?void 0:null===(t=i.name)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase()))||(null==i?void 0:null===(a=i.user)||void 0===a?void 0:a.toLowerCase().includes(e.toLowerCase())))&&s.push(i)}),a.forEach(i=>{var n,t;((null==i?void 0:null===(n=i.playlistName)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null==i?void 0:null===(t=i.user)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase())))&&s.push(i),i.playlistSongs.forEach(n=>{var t,a,l;let r=JSON.parse(n);((null==r?void 0:null===(t=r.audio)||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase()))||(null==r?void 0:null===(a=r.name)||void 0===a?void 0:a.toLowerCase().includes(e.toLowerCase()))||(null==r?void 0:null===(l=r.user)||void 0===l?void 0:l.toLowerCase().includes(e.toLowerCase())))&&s.push(i)})}),s.length||(console.log("No Results Match Your Search"),o.Am.error("No Results Match Your Search")),i(s),d(!0)}()}})]})}var c=i(6463),h=i(4573);function u(){async function e(e){try{e.preventDefault(),sessionStorage.removeItem("auth"),await a.Z.deleteCurrentSession(),window.location.reload(),(0,c.redirect)("/")}catch(e){console.error(e)}}let s=(0,r.o)(e=>e.setHeaderDisplay),i=(0,r.o)(e=>e.headerDisplay),o=(0,h.Z)("auth");return(0,n.jsxs)("header",{className:"flex column",id:"header",children:[(0,n.jsx)("div",{children:(0,n.jsx)(t.default,{href:"/",children:(0,n.jsx)("h1",{children:"EchoStream"})})}),(0,l.z)({text:"",className:"".concat("display"===i?"fa-solid fa-xmark button small hidden":"fa-solid fa-bars button small hidden"),id:"menu",onClick:()=>void("display"===i?s("hidden"):s("display"))}),(0,n.jsx)("nav",{className:"flex column nav ".concat(i),children:(0,n.jsxs)("ul",{className:"flex navBar",children:[(0,n.jsx)("li",{children:(0,n.jsx)(t.default,{href:"/",children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)(t.default,{href:"/about",children:"About"})}),o?(0,n.jsx)("li",{children:(0,n.jsx)(t.default,{href:"/account",children:"Account"})}):"",o?(0,n.jsx)("li",{children:(0,n.jsx)(t.default,{href:"/addAudio",children:"Add Audio"})}):"",o?(0,n.jsx)("li",{children:(0,n.jsx)(t.default,{href:"/",onClick:s=>e(s),children:"Logout"})}):"",o?"":(0,n.jsx)("li",{children:(0,n.jsx)(t.default,{href:"/demo",children:"Demo"})}),o?"":(0,n.jsx)("li",{children:(0,n.jsx)(t.default,{href:"/login",children:"Login/Register"})}),(0,n.jsx)("li",{children:(0,n.jsx)(d,{})})]})})]})}},7330:function(){},3813:function(){}},function(e){e.O(0,[543,884,429,646,971,23,744],function(){return e(e.s=4112)}),_N_E=e.O()}]);