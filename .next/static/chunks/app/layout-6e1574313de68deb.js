(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5060:function(e,t,n){Promise.resolve().then(n.bind(n,7981))},7614:function(e,t,n){"use strict";var s=n(7332),a=n(2601);let r={sdk:null,provider:()=>{if(r.sdk)return r.sdk;let e=new s.KU;e.setEndpoint("https://cloud.appwrite.io/v1").setProject("64a0712c1618df1be9a2");let t=new s.mR(e),n=new s.Lg(e),a=new s.KU(e),o=new s.Ke(e);return r.sdk={database:n,account:t,client:a,storage:o},r.sdk},createAccount:(e,t,n)=>r.provider().account.create("unique()",e,t,n),updateAccountName:e=>r.provider().account.updateName(e),updateAccountPassword:(e,t)=>r.provider().account.updatePassword(e,t),updateAccountEmail:(e,t)=>r.provider().account.updateEmail(e,t),getAccount:()=>r.provider().account.get(),createSession:(e,t)=>r.provider().account.createEmailSession(e,t),deleteCurrentSession:()=>r.provider().account.deleteSession("current"),deleteSessions:()=>r.provider().account.deleteSessions(),createDocument:(e,t,n,s)=>r.provider().database.createDocument(e,t,"unique()",n,s),listDocuments:(e,t)=>r.provider().database.listDocuments(e,t),updateDocument:(e,t,n,s)=>r.provider().database.updateDocument(e,t,n,s),deleteDocument:(e,t,n)=>r.provider().database.deleteDocument(e,t,n),uploadFile:(e,t)=>r.provider().storage.createFile(a.env.NEXT_PUBLIC_APP_SONGS,e,t),listFiles:()=>r.provider().storage.listFiles(a.env.NEXT_PUBLIC_APP_SONGS)};t.Z=r},7981:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var s=n(7437),a=n(2265),r=n(108),o=n(8475),c=n.n(o),l=n(7347),i=n(9476),u=n(1527);function d(e){let{children:t}=e,n=(0,r.o)(e=>e.setSong),o=(0,r.o)(e=>e.setListOfSongs);return(0,a.useEffect)(()=>{(0,l.AX)(e=>n(e)),(0,i.u)(e=>o(e))},[]),(0,s.jsxs)("html",{lang:"en",children:[(0,s.jsx)("title",{children:"EchoStream"}),(0,s.jsx)(c(),{rel:"preload",src:"https://kit.fontawesome.com/d0e0071c1c.js",crossOrigin:"anonymous"}),(0,s.jsx)(u.Z,{children:(0,s.jsx)("body",{children:t})})]})}},6908:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var s=n(7437);function a(e){return(0,s.jsx)("button",{className:e.className,onClick:t=>e.onClick(t),children:e.text},e.key)}n(1396),n(2265)},7347:function(e,t,n){"use strict";n.d(t,{AX:function(){return u},_R:function(){return h},at:function(){return d}});var s=n(7437),a=n(7614);n(2265);var r=n(6908);function o(e){let t=t=>{e.setCurrentPage(t)};return(0,s.jsx)("div",{className:e.className,children:Math.ceil(e.arrayLength/e.rowsPerPage)<e.currentPage+1?Array.from({length:Math.ceil(e.arrayLength/e.rowsPerPage)},(e,n)=>(0,r.z)({onClick:e=>{t(n+1)},text:"".concat(n+1),key:"button-".concat(n),className:"button"})):Array.from({length:Math.ceil(e.arrayLength/e.rowsPerPage)},(n,a)=>a<e.currentPage-2&&0!==a?(0,s.jsx)("h1",{children:"..."},"".concat(a,"-dots")):!(a>e.currentPage+1)&&a<e.currentPage+1||a+1===Math.ceil(e.arrayLength/e.rowsPerPage)?(0,r.z)({onClick:e=>{t(a+1)},text:"".concat(a+1),key:"button-".concat(a),className:"button"}):(0,s.jsx)("h1",{children:"..."},"".concat(a,"-dots")))},"buttons")}var c=n(9476),l=n(2173),i=n(70);async function u(e){try{let t=await a.Z.listDocuments("64a071efc39bca8c4bc0","64a07cc02481a71b7da8");t.documents.length&&e(t.documents)}catch(e){console.error(e)}}async function d(e,t){try{console.log(t);let n=await l.Z.delete("https://echoverse-backend.onrender.com/deleteAudio/".concat(t)),s=await a.Z.deleteDocument("64a071efc39bca8c4bc0","64a07cc02481a71b7da8",e);s&&n&&window.location.reload()}catch(e){console.error(e)}}function h(e){let t=(0,i.Z)("auth"),n=e.songs.slice(e.startIndex,e.endIndex).map((n,a)=>e.check?n.user===(null==t?void 0:t.toLowerCase())?(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:n.name}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:"button small",onClick:e=>{e.preventDefault(),localStorage.setItem("song",n.$id),window.location.reload()},children:"Play"})}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{index:a})}),(0,s.jsx)("td",{children:(0,r.z)({text:"",className:"fa-solid fa-trash button small",onClick:e=>d(n.$id,n.cloudinaryId)})})]},n.$id):void 0:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:n.name}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:"button small",onClick:e=>{e.preventDefault(),localStorage.setItem("song",n.$id),window.location.reload()},children:"Play"})}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{children:n.user}),(0,s.jsx)("td",{children:(0,s.jsx)(c.Z,{index:a})}),(0,s.jsx)("td",{children:(null==t?void 0:t.toLowerCase())===n.user?(0,r.z)({text:"",className:"fa-solid fa-trash button small",onClick:e=>d(n.$id,n.cloudinaryId)}):""})]},n.$id));return(0,s.jsx)("section",{children:(0,s.jsxs)("div",{id:"tableContainer",children:[(0,s.jsx)("h2",{children:"Song List"}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{children:"Play"}),(0,s.jsx)("th",{}),(0,s.jsx)("th",{children:t?"":"User"}),(0,s.jsx)("th",{children:"Playlist"}),(0,s.jsx)("th",{children:"Delete"})]})}),(0,s.jsx)("tbody",{children:n})]}),(0,s.jsx)(o,{currentPage:e.currentPage,setCurrentPage:t=>e.setCurrentPage(t),rowsPerPage:e.rowsPerPage,arrayLength:e.songs.length})]})})}},9476:function(e,t,n){"use strict";n.d(t,{u:function(){return h},Z:function(){return f}});var s=n(7437),a=n(2265),r=n(6908),o=n(7614),c=n(7332),l=n(1527),i=n(108);async function u(e,t){try{let n=e.playlistSongs.map(e=>e);n.push(JSON.stringify(t)),e.playlistSongs=n;let s=await o.Z.updateDocument("6543e6631929ba50ffd1","6543e8ebf074d567b450",e.$id,e);s&&window.location.reload()}catch(e){console.error(e)}}function d(e){let t=(0,i.o)(e=>e.listOfSongs),n=(0,i.o)(e=>e.song),r=t.map((e,t)=>(0,s.jsx)("option",{value:t,children:e.playlistName},e.$id)),[o,c]=(0,a.useState)({$id:"",playlistName:"",playlistSongs:[""],userID:"",user:""});return(0,s.jsxs)("section",{children:[(0,s.jsxs)("select",{onChange:e=>{var n,s,a,r,o;return c({$id:null===(n=t[e.target.value])||void 0===n?void 0:n.$id,playlistName:null===(s=t[e.target.value])||void 0===s?void 0:s.playlistName,playlistSongs:null===(a=t[e.target.value])||void 0===a?void 0:a.playlistSongs,userID:null===(r=t[e.target.value])||void 0===r?void 0:r.userID,user:null===(o=t[e.target.value])||void 0===o?void 0:o.user})},children:[(0,s.jsx)("option",{children:"Choose Playlist"},"0"),r]}),(0,s.jsx)("button",{className:"fa-solid fa-plus",onClick:t=>{t.preventDefault(),u(o,n[e.index])}})]})}async function h(e){try{let t=await o.Z.listDocuments("6543e6631929ba50ffd1","6543e8ebf074d567b450");e(t.documents)}catch(e){console.error(e)}}function f(e){let[t,n]=(0,a.useState)(!1),[i,u]=(0,a.useState)(""),h=(0,a.useContext)(l.S);return(0,s.jsxs)("section",{id:"playlist",children:[(0,s.jsx)("button",{className:"".concat(t?"fa-solid fa-xmark":"fa-solid fa-plus"," button"),onClick:e=>{e.preventDefault(),n(!t)}}),t?function(e,t,n,a,l){async function i(){try{let t=await o.Z.createDocument("6543e6631929ba50ffd1","6543e8ebf074d567b450",{playlistName:e,playlistSongs:[],userID:n,user:a},[c.y3.read(c.uU.any())]);t&&window.location.reload()}catch(e){console.error(e)}}return(0,s.jsxs)("form",{className:"flex column alignStart",children:[(0,s.jsxs)("div",{className:"flex alignItems justifyCenter",children:[(0,s.jsx)("input",{type:"text",onChange:e=>t(e.target.value),placeholder:"New Playlist Name"}),(0,r.z)({text:"Create Playlist",className:"",onClick:e=>{e.preventDefault(),i()}})]}),(0,s.jsx)(d,{index:l})]})}(i,e=>u(e),null==h?void 0:h.$id,null==h?void 0:h.email,e.index):""]})}},1527:function(e,t,n){"use strict";n.d(t,{S:function(){return o},Z:function(){return c}});var s=n(7437),a=n(2265),r=n(7614);let o=(0,a.createContext)();function c(e){let{children:t}=e,[n,c]=(0,a.useState)();return(0,a.useEffect)(()=>{async function e(){let e=await r.Z.getAccount();c(e)}sessionStorage.getItem("auth")&&e()},[]),(0,s.jsx)(o.Provider,{value:n,children:t})}},70:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(2265);function a(e){let[t,n]=(0,s.useState)("");return(0,s.useEffect)(()=>{n(sessionStorage.getItem(e))},[]),t}},108:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});var s=n(4660),a=n(7173);let r=(0,s.Ue)(e=>({song:[],setSong:t=>{e((0,a.Uy)(e=>{e.song=t}))},listOfSongs:[],setListOfSongs:t=>{e((0,a.Uy)(e=>{e.listOfSongs=t}))},searchValue:"",setSearchValue:t=>{e((0,a.Uy)(e=>{e.searchValue=t}))},searchResults:[],setSearchResults:t=>{e((0,a.Uy)(e=>{e.searchResults=t}))},songDisplay:!1,setSongDisplay:t=>{e((0,a.Uy)(e=>{e.songDisplay=t}))}}))}},function(e){e.O(0,[195,173,475,971,472,744],function(){return e(e.s=5060)}),_N_E=e.O()}]);