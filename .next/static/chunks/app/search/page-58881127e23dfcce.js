(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{4433:function(e,t,n){Promise.resolve().then(n.bind(n,2651))},7614:function(e,t,n){"use strict";var s=n(7332),r=n(2601);let a={sdk:null,provider:()=>{if(a.sdk)return a.sdk;let e=new s.KU;e.setEndpoint("https://cloud.appwrite.io/v1").setProject("64a0712c1618df1be9a2");let t=new s.mR(e),n=new s.Lg(e),r=new s.KU(e),l=new s.Ke(e);return a.sdk={database:n,account:t,client:r,storage:l},a.sdk},createAccount:(e,t,n)=>a.provider().account.create("unique()",e,t,n),updateAccountName:e=>a.provider().account.updateName(e),updateAccountPassword:(e,t)=>a.provider().account.updatePassword(e,t),updateAccountEmail:(e,t)=>a.provider().account.updateEmail(e,t),getAccount:()=>a.provider().account.get(),createSession:(e,t)=>a.provider().account.createEmailSession(e,t),deleteCurrentSession:()=>a.provider().account.deleteSession("current"),deleteSessions:()=>a.provider().account.deleteSessions(),createDocument:(e,t,n,s)=>a.provider().database.createDocument(e,t,"unique()",n,s),listDocuments:(e,t)=>a.provider().database.listDocuments(e,t),updateDocument:(e,t,n,s)=>a.provider().database.updateDocument(e,t,n,s),deleteDocument:(e,t,n)=>a.provider().database.deleteDocument(e,t,n),uploadFile:(e,t)=>a.provider().storage.createFile(r.env.NEXT_PUBLIC_APP_SONGS,e,t),listFiles:()=>a.provider().storage.listFiles(r.env.NEXT_PUBLIC_APP_SONGS)};t.Z=a},2651:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var s=n(7437),r=n(108);n(8574);var a=n(70),l=n(6908),i=n(9476),c=n(7347),o=n(2943),d=n(8676);function u(){let e=(0,r.o)(e=>e.searchResults),t=(0,a.Z)("auth"),n=e.map((e,n)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.name?e.name:e.playlistName}),(0,s.jsx)("td",{children:e.audio?(0,s.jsx)("button",{className:"button small",onClick:t=>{t.preventDefault(),localStorage.setItem("song",e.$id),window.location.reload()},children:"Play"}):""}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{children:e.user}),(0,s.jsx)("td",{children:e.audio?(0,s.jsx)(i.Z,{index:n}):"  "}),(0,s.jsx)("td",{children:(null==t?void 0:t.toLowerCase())===e.user&&e.audio?(0,l.z)({text:"",className:"fa-solid fa-trash button small",onClick:t=>(0,c.at)(e.$id,e.cloudinaryId)}):""})]},"".concat(e.$id,"-").concat(n)));return(0,s.jsxs)("main",{className:"column flex",children:[(0,s.jsx)(o.Z,{}),(0,s.jsx)("section",{id:"home",className:"main",children:(0,s.jsxs)("div",{id:"tableContainer",children:[(0,s.jsx)("h2",{children:"Search Results"}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{children:"Play"}),(0,s.jsx)("th",{}),(0,s.jsx)("th",{children:t?"":"User"}),(0,s.jsx)("th",{children:"Playlist"}),(0,s.jsx)("th",{children:"Delete"})]})}),(0,s.jsx)("tbody",{children:n})]})]})}),(0,s.jsx)(d.Z,{})]})}},6908:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var s=n(7437);function r(e){return(0,s.jsx)("button",{className:e.className,onClick:t=>e.onClick(t),children:e.text},e.key)}n(1396),n(2265)},8676:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(7437);function r(){return(0,s.jsx)("footer",{className:"flex",children:(0,s.jsxs)("nav",{className:"flex",children:[(0,s.jsxs)("ul",{className:"flex icons",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://twitter.com/choir241",className:"fa-brands fa-twitter",children:(0,s.jsx)("p",{className:"hidden",children:"Twitter"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.linkedin.com/in/richard-choir/",className:"fa-brands fa-linkedin",children:(0,s.jsx)("p",{className:"hidden",children:"LinkedIn"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.instagram.com/225kh_drw/?hl=en",className:"fa-brands fa-instagram",children:(0,s.jsx)("p",{className:"hidden",children:"Instagram"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://github.com/choir27",className:"fa-brands fa-github",children:(0,s.jsx)("p",{className:"hidden",children:"Github"})})})]}),(0,s.jsx)("small",{children:"EchoVerse \xa9 2023. All rights are reserved"})]})})}n(2265)},2943:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var s=n(7437),r=n(1396),a=n.n(r),l=n(4033),i=n(70),c=n(7614),o=n(6908),d=n(108);function u(){let e=(0,d.o)(e=>e.searchValue),t=(0,d.o)(e=>e.setSearchValue),n=(0,d.o)(e=>e.setSearchResults),r=(0,d.o)(e=>e.song),a=(0,d.o)(e=>e.listOfSongs),{push:i}=(0,l.useRouter)();return(0,s.jsxs)("form",{children:[(0,s.jsx)("input",{type:"search",onChange:e=>t(e.target.value)}),(0,s.jsx)(o.z,{text:"",className:"fa-solid fa-magnifying-glass button",onClick:t=>{t.preventDefault(),function(){let t=[];r.forEach(n=>{(n.audio.toLowerCase().includes(e.toLowerCase())||n.name.toLowerCase().includes(e.toLowerCase())||n.user.toLowerCase().includes(e.toLowerCase()))&&t.push(n)}),a.forEach(n=>{(n.playlistName.toLowerCase().includes(e.toLowerCase())||n.user.toLowerCase().includes(e.toLowerCase()))&&t.push(n),n.playlistSongs.forEach(s=>{let r=JSON.parse(s);(r.audio.toLowerCase().includes(e.toLowerCase())||r.name.toLowerCase().includes(e.toLowerCase())||r.user.toLowerCase().includes(e.toLowerCase()))&&t.push(n)})}),n(t),console.log(t),i("/search")}()}})]})}function h(){async function e(e){try{e.preventDefault(),sessionStorage.removeItem("auth"),await c.Z.deleteCurrentSession(),window.location.reload(),(0,l.redirect)("/")}catch(e){console.error(e)}}let t=(0,i.Z)("auth");return(0,s.jsxs)("header",{className:"flex column",children:[(0,s.jsx)("div",{children:(0,s.jsx)(a(),{href:"/",children:(0,s.jsx)("h1",{children:"EchoStream"})})}),(0,s.jsx)("nav",{className:"flex column",children:(0,s.jsxs)("ul",{className:"flex navBar",children:[(0,s.jsx)("li",{children:(0,s.jsx)(a(),{href:"/",children:"Home"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a(),{href:"/about",children:"About"})}),t?(0,s.jsx)("li",{children:(0,s.jsx)(a(),{href:"/account",children:"Account"})}):"",t?(0,s.jsx)("li",{children:(0,s.jsx)(a(),{href:"/addAudio",children:"Add Audio"})}):"",t?(0,s.jsx)("li",{children:(0,s.jsx)(a(),{href:"/",onClick:t=>e(t),children:"Logout"})}):"",t?"":(0,s.jsx)("li",{children:(0,s.jsx)(a(),{href:"/demo",children:"Demo"})}),t?"":(0,s.jsx)("li",{children:(0,s.jsx)(a(),{href:"/login",children:"Login/Register"})}),(0,s.jsx)("li",{children:(0,s.jsx)(u,{})})]})})]})}},7347:function(e,t,n){"use strict";n.d(t,{AX:function(){return d},_R:function(){return h},at:function(){return u}});var s=n(7437),r=n(7614);n(2265);var a=n(6908);function l(e){let t=t=>{e.setCurrentPage(t)};return(0,s.jsx)("div",{className:e.className,children:Math.ceil(e.arrayLength/e.rowsPerPage)<e.currentPage+1?Array.from({length:Math.ceil(e.arrayLength/e.rowsPerPage)},(e,n)=>(0,a.z)({onClick:e=>{t(n+1)},text:"".concat(n+1),key:"button-".concat(n),className:"button"})):Array.from({length:Math.ceil(e.arrayLength/e.rowsPerPage)},(n,r)=>r<e.currentPage-2&&0!==r?(0,s.jsx)("h1",{children:"..."},"".concat(r,"-dots")):!(r>e.currentPage+1)&&r<e.currentPage+1||r+1===Math.ceil(e.arrayLength/e.rowsPerPage)?(0,a.z)({onClick:e=>{t(r+1)},text:"".concat(r+1),key:"button-".concat(r),className:"button"}):(0,s.jsx)("h1",{children:"..."},"".concat(r,"-dots")))},"buttons")}var i=n(9476),c=n(2173),o=n(70);async function d(e){try{let t=await r.Z.listDocuments("64a071efc39bca8c4bc0","64a07cc02481a71b7da8");t.documents.length&&e(t.documents)}catch(e){console.error(e)}}async function u(e,t){try{console.log(t);let n=await c.Z.delete("https://echoverse-backend.onrender.com/deleteAudio/".concat(t)),s=await r.Z.deleteDocument("64a071efc39bca8c4bc0","64a07cc02481a71b7da8",e);s&&n&&window.location.reload()}catch(e){console.error(e)}}function h(e){let t=(0,o.Z)("auth"),n=e.songs.slice(e.startIndex,e.endIndex).map((n,r)=>e.check?n.user===(null==t?void 0:t.toLowerCase())?(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:n.name}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:"button small",onClick:e=>{e.preventDefault(),localStorage.setItem("song",n.$id),window.location.reload()},children:"Play"})}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{children:(0,s.jsx)(i.Z,{index:r})}),(0,s.jsx)("td",{children:(0,a.z)({text:"",className:"fa-solid fa-trash button small",onClick:e=>u(n.$id,n.cloudinaryId)})})]},n.$id):void 0:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:n.name}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:"button small",onClick:e=>{e.preventDefault(),localStorage.setItem("song",n.$id),window.location.reload()},children:"Play"})}),(0,s.jsx)("td",{}),(0,s.jsx)("td",{children:n.user}),(0,s.jsx)("td",{children:(0,s.jsx)(i.Z,{index:r})}),(0,s.jsx)("td",{children:(null==t?void 0:t.toLowerCase())===n.user?(0,a.z)({text:"",className:"fa-solid fa-trash button small",onClick:e=>u(n.$id,n.cloudinaryId)}):""})]},n.$id));return(0,s.jsx)("section",{children:(0,s.jsxs)("div",{id:"tableContainer",children:[(0,s.jsx)("h2",{children:"Song List"}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{children:"Play"}),(0,s.jsx)("th",{}),(0,s.jsx)("th",{children:t?"":"User"}),(0,s.jsx)("th",{children:"Playlist"}),(0,s.jsx)("th",{children:"Delete"})]})}),(0,s.jsx)("tbody",{children:n})]}),(0,s.jsx)(l,{currentPage:e.currentPage,setCurrentPage:t=>e.setCurrentPage(t),rowsPerPage:e.rowsPerPage,arrayLength:e.songs.length})]})})}},9476:function(e,t,n){"use strict";n.d(t,{u:function(){return h},Z:function(){return x}});var s=n(7437),r=n(2265),a=n(6908),l=n(7614),i=n(7332),c=n(1527),o=n(108);async function d(e,t){try{let n=e.playlistSongs.map(e=>e);n.push(JSON.stringify(t)),e.playlistSongs=n;let s=await l.Z.updateDocument("6543e6631929ba50ffd1","6543e8ebf074d567b450",e.$id,e);s&&window.location.reload()}catch(e){console.error(e)}}function u(e){let t=(0,o.o)(e=>e.listOfSongs),n=(0,o.o)(e=>e.song),a=t.map((e,t)=>(0,s.jsx)("option",{value:t,children:e.playlistName},e.$id)),[l,i]=(0,r.useState)({$id:"",playlistName:"",playlistSongs:[""],userID:"",user:""});return(0,s.jsxs)("section",{children:[(0,s.jsxs)("select",{onChange:e=>{var n,s,r,a,l;return i({$id:null===(n=t[e.target.value])||void 0===n?void 0:n.$id,playlistName:null===(s=t[e.target.value])||void 0===s?void 0:s.playlistName,playlistSongs:null===(r=t[e.target.value])||void 0===r?void 0:r.playlistSongs,userID:null===(a=t[e.target.value])||void 0===a?void 0:a.userID,user:null===(l=t[e.target.value])||void 0===l?void 0:l.user})},children:[(0,s.jsx)("option",{children:"Choose Playlist"},"0"),a]}),(0,s.jsx)("button",{className:"fa-solid fa-plus",onClick:t=>{t.preventDefault(),d(l,n[e.index])}})]})}async function h(e){try{let t=await l.Z.listDocuments("6543e6631929ba50ffd1","6543e8ebf074d567b450");e(t.documents)}catch(e){console.error(e)}}function x(e){let[t,n]=(0,r.useState)(!1),[o,d]=(0,r.useState)(""),h=(0,r.useContext)(c.S);return(0,s.jsxs)("section",{id:"playlist",children:[(0,s.jsx)("button",{className:"".concat(t?"fa-solid fa-xmark":"fa-solid fa-plus"," button"),onClick:e=>{e.preventDefault(),n(!t)}}),t?function(e,t,n,r,c){async function o(){try{let t=await l.Z.createDocument("6543e6631929ba50ffd1","6543e8ebf074d567b450",{playlistName:e,playlistSongs:[],userID:n,user:r},[i.y3.read(i.uU.any())]);t&&window.location.reload()}catch(e){console.error(e)}}return(0,s.jsxs)("form",{className:"flex column alignStart",children:[(0,s.jsxs)("div",{className:"flex alignItems justifyCenter",children:[(0,s.jsx)("input",{type:"text",onChange:e=>t(e.target.value),placeholder:"New Playlist Name"}),(0,a.z)({text:"Create Playlist",className:"",onClick:e=>{e.preventDefault(),o()}})]}),(0,s.jsx)(u,{index:c})]})}(o,e=>d(e),null==h?void 0:h.$id,null==h?void 0:h.email,e.index):""]})}},1527:function(e,t,n){"use strict";n.d(t,{S:function(){return l},Z:function(){return i}});var s=n(7437),r=n(2265),a=n(7614);let l=(0,r.createContext)();function i(e){let{children:t}=e,[n,i]=(0,r.useState)();return(0,r.useEffect)(()=>{async function e(){let e=await a.Z.getAccount();i(e)}sessionStorage.getItem("auth")&&e()},[]),(0,s.jsx)(l.Provider,{value:n,children:t})}},70:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(2265);function r(e){let[t,n]=(0,s.useState)("");return(0,s.useEffect)(()=>{n(sessionStorage.getItem(e))},[]),t}},108:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var s=n(4660),r=n(7173);let a=(0,s.Ue)(e=>({song:[],setSong:t=>{e((0,r.Uy)(e=>{e.song=t}))},listOfSongs:[],setListOfSongs:t=>{e((0,r.Uy)(e=>{e.listOfSongs=t}))},searchValue:"",setSearchValue:t=>{e((0,r.Uy)(e=>{e.searchValue=t}))},searchResults:[],setSearchResults:t=>{e((0,r.Uy)(e=>{e.searchResults=t}))},songDisplay:!1,setSongDisplay:t=>{e((0,r.Uy)(e=>{e.songDisplay=t}))}}))},8574:function(){},4033:function(e,t,n){e.exports=n(94)}},function(e){e.O(0,[195,173,971,472,744],function(){return e(e.s=4433)}),_N_E=e.O()}]);