"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[465],{642:function(e,t,n){var r=n(9439),a=n(2791),s=n(1243),l=n(8174),i=n(184),c=/^[\w!#$%&'*+/=?`{|}~^-]+(?:\.[\w!#$%&'*+/=?`{|}~^-]+)*@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,6}$/,o=/^[a-zA-Z]*$/;t.Z=function(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),n=t[0],u=t[1],d=(0,a.useState)(""),h=(0,r.Z)(d,2),f=h[0],p=h[1],x=(0,a.useState)(""),m=(0,r.Z)(x,2),j=m[0],y=m[1];return(0,i.jsxs)("footer",{id:"footer",children:[(0,i.jsx)("section",{children:(0,i.jsxs)("form",{onSubmit:function(e){try{if(e.preventDefault(),!n||!f||!j)return void l.Am.error("Please Input All Fields");var t=c.test(f),r=o.test(n);if(!t)return void l.Am.error("Please Input Proper Email");if(!r)return void l.Am.error("Please Input Proper Name");var a=new URLSearchParams;a.append("name",n),a.append("email",f),a.append("message",j),s.Z.post("https://illya-site-backend-production.up.railway.app/sendMessage",a,{}).then((function(e){e&&(console.log(e),window.location.reload())})).catch((function(e){console.log(e)}))}catch(i){console.error(i)}},children:[(0,i.jsxs)("div",{className:"fields",children:[(0,i.jsxs)("div",{className:"field",children:[(0,i.jsx)("label",{children:"Name"}),(0,i.jsx)("input",{placeholder:"Put your name here",type:"text",name:"name",onChange:function(e){return u(e.target.value)},value:n})]}),(0,i.jsxs)("div",{className:"field",children:[(0,i.jsx)("label",{children:"Email"}),(0,i.jsx)("input",{placeholder:"Put your email here",type:"text",name:"email",onChange:function(e){return p(e.target.value)},value:f})]}),(0,i.jsxs)("div",{className:"field",children:[(0,i.jsx)("label",{children:"Message"}),(0,i.jsx)("textarea",{placeholder:"Put your message here",name:"message",onChange:function(e){return y(e.target.value)},value:j})]})]}),(0,i.jsx)("input",{className:"button",type:"submit",value:"Send Message"})]})}),(0,i.jsxs)("section",{className:"split contact",children:[(0,i.jsxs)("section",{children:[(0,i.jsx)("h3",{children:"Email"}),(0,i.jsx)("p",{children:"richardchoi54@gmail.com"})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h3",{children:"Social"}),(0,i.jsxs)("ul",{className:"icons alt",children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://twitter.com/choir241",className:"icon fa-twitter",children:(0,i.jsx)("p",{className:"hidden",children:"Twitter"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.linkedin.com/in/richard-choir/",className:"icon fa-linkedin",children:(0,i.jsx)("p",{className:"hidden",children:"LinkedIn"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.instagram.com/225kh_drw/?hl=en",className:"icon fa-instagram",children:(0,i.jsx)("p",{className:"hidden",children:"Instagram"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://github.com/choir27",className:"icon fa-github",children:(0,i.jsx)("p",{className:"hidden",children:"Github"})})})]})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h3",{children:"Portfolio"}),(0,i.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://choir.netlify.app/",children:"My Portfolio"})]})]})]})}},8911:function(e,t,n){var r=n(4165),a=n(5861),s=n(9439),l=n(1243),i=n(2791),c=n(318),o=n(8174),u=n(7689),d=n(1087),h=n(184);t.Z=function(e){var t=e.text,n=e.id,f=e.userName,p=e.userID,x=(0,i.useContext)(c.Iu),m=(0,i.useState)({}),j=(0,s.Z)(m,2),y=j[0],g=j[1],b=(0,i.useState)(""),v=(0,s.Z)(b,2),k=v[0],N=v[1],w=(0,i.useState)([]),S=(0,s.Z)(w,2),Z=S[0],P=S[1],C=(0,i.useState)([]),I=(0,s.Z)(C,2),_=I[0],A=I[1],M=(0,i.useState)([]),D=(0,s.Z)(M,2),U=D[0],E=D[1],T=(0,u.s0)();(0,i.useEffect)((function(){try{x.then((function(e){g(e)})),fetch("https://illya-site-backend-production.up.railway.app/playlist").then((function(e){return e.json()})).then((function(e){P(e)}));var e=[];Z&&Z.forEach((function(t){t.user===localStorage.getItem("id")&&e.push((0,h.jsx)("option",{value:t._id,children:t.name},t._id))})),A(e),E((0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:t}),(0,h.jsx)("td",{children:(0,h.jsx)(d.rU,{className:"button small",to:"/playMusic",onClick:function(){localStorage.setItem("song",n)},children:"Play"})}),(0,h.jsx)("td",{children:(0,h.jsxs)("form",{onSubmit:H,children:[(0,h.jsxs)("select",{name:"playlist",onChange:function(e){N(e.target.value)},children:[(0,h.jsx)("option",{value:""}),_]}),(0,h.jsx)("button",{className:"fa-solid fa-plus button small",type:"submit"})]})}),(0,h.jsx)("td",{children:(0,h.jsx)("form",{onSubmit:L,children:y._id===p?(0,h.jsx)("button",{className:"button small fa-solid fa-trash",type:"submit"}):""})}),(0,h.jsx)("td",{children:f})]}))}catch(r){return void console.error(r)}}),[x,k,Z]);var L=(0,i.useCallback)((function(e){try{e.preventDefault(),l.Z.delete("https://illya-site-backend-production.up.railway.app/deletePost/".concat(n)).then((function(e){return console.log(e)})).catch((function(e){console.error(e)}))}catch(t){return void console.error(t)}}),[n]),H=(0,i.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t.preventDefault(),a=Z.find((function(e){return e._id===k})),s=0;case 4:if(!(s<a.length)){e.next=12;break}if(a.songs[s]._id!==n){e.next=8;break}return o.Am.error("Song already exists in playlist"),e.abrupt("return");case 8:case 9:s++,e.next=4;break;case 12:if(""===k){e.next=21;break}(i=new URLSearchParams).append("playlist",k),l.Z.put("https://illya-site-backend-production.up.railway.app/addToPlaylist/".concat(n),i,{}).then((function(e){return console.log(e)})).catch((function(e){console.error(e)})),l.Z.put("https://illya-site-backend-production.up.railway.app/choosePlaylist/".concat(k),i,{}).then((function(e){console.log(e)})),T("/editPlaylist"),e.next=23;break;case 21:return o.Am.error("Please Choose A Valid Option"),e.abrupt("return");case 23:e.next=30;break;case 26:return e.prev=26,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 30:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(t){return e.apply(this,arguments)}}(),[k,Z,n,T]);return U}},9966:function(e,t,n){var r=n(7689),a=n(1087),s=n(184);t.Z=function(){var e=(0,r.s0)();return(0,s.jsxs)("header",{children:[(0,s.jsx)("div",{id:"intro",children:(0,s.jsx)(a.rU,{to:"/",children:(0,s.jsx)("h1",{children:"Illya Fansite"})})}),(0,s.jsxs)("nav",{id:"nav",children:[(0,s.jsxs)("ul",{className:"links",children:[(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"/",children:"Home"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"/about",children:"About"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"/dashboard",children:"Dashboard"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"/account",children:"Account"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"/addAudio",children:"Add Audio"})}),(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"/",onClick:function(t){return function(t){t.preventDefault(),localStorage.removeItem("id"),e("/"),localStorage.getItem("id")||window.location.reload()}(t)},children:"Logout"})})]}),(0,s.jsxs)("ul",{className:"icons alt",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://twitter.com/choir241",className:"icon fa-twitter",children:(0,s.jsx)("p",{className:"hidden",children:"Twitter"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.linkedin.com/in/richard-choir/",className:"icon fa-linkedin",children:(0,s.jsx)("p",{className:"hidden",children:"LinkedIn"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.instagram.com/225kh_drw/?hl=en",className:"icon fa-instagram",children:(0,s.jsx)("p",{className:"hidden",children:"Instagram"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://github.com/choir27",className:"icon fa-github",children:(0,s.jsx)("p",{className:"hidden",children:"Github"})})})]})]})]})}},2335:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(9439),a=n(642),s=n(9966),l=n(1243),i=n(1087),c=n(2791),o=n(318),u=n(8911),d=n(184),h=function(){var e=(0,c.useContext)(o.Iu),t=(0,c.useState)({}),n=(0,r.Z)(t,2),a=n[0],s=n[1],h=(0,c.useState)([]),f=(0,r.Z)(h,2),p=f[0],x=f[1],m=(0,c.useState)([]),j=(0,r.Z)(m,2),y=j[0],g=j[1],b=(0,c.useState)({}),v=(0,r.Z)(b,2),k=v[0],N=v[1],w=(0,c.useState)(""),S=(0,r.Z)(w,2),Z=S[0],P=S[1],C=(0,c.useState)([]),I=(0,r.Z)(C,2),_=I[0],A=I[1],M=(0,c.useState)([]),D=(0,r.Z)(M,2),U=D[0],E=D[1],T=(0,c.useState)([]),L=(0,r.Z)(T,2),H=L[0],O=L[1],$=(0,c.useState)([]),z=(0,r.Z)($,2),F=z[0],G=z[1],R=(0,c.useState)(1),q=(0,r.Z)(R,2),J=q[0],V=q[1],B=5*(J-1),K=B+5,Q=(0,c.useMemo)((function(){return l.Z.CancelToken.source()}),[]),W=(0,c.useCallback)((function(e){e.preventDefault(),l.Z.put("https://illya-site-backend-production.up.railway.app/choosePlaylist/".concat(k)).then((function(e){return console.log(e)})).catch((function(e){console.error(e)}))}),[k]),X=(0,c.useCallback)((function(e){e.preventDefault(),l.Z.delete("https://illya-site-backend-production.up.railway.app/deletePlaylist/".concat(Z)).then((function(e){return console.log(e)})).catch((function(e){console.error(e)})),l.Z.put("https://illya-site-backend-production.up.railway.app/deleteCurrentPlaylist").then((function(e){return console.log(e)})).catch((function(e){console.error(e)}))}),[Z]);(0,c.useEffect)((function(){return e.then((function(e){s(e)})),Promise.all([fetch("https://illya-site-backend-production.up.railway.app/audio",{cancelToken:Q.token}),fetch("https://illya-site-backend-production.up.railway.app/playlist",{cancelToken:Q.token})]).then((function(e){var t=(0,r.Z)(e,2),n=t[0],a=t[1];return Promise.all([n.json(),a.json()])})).then((function(e){var t=(0,r.Z)(e,2),n=t[0],a=t[1];try{g(n),x(a)}catch(s){return void console.error(s)}})),function(){Q.cancel()}}),[]),(0,c.useEffect)((function(){var e=localStorage.getItem("id"),t=p.filter((function(t){return t.user===e})),n=y.filter((function(t){return t.user===e}));O(t),G(n)}),[p,y]);var Y=(0,c.useMemo)((function(){return H.map((function(e){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsxs)("form",{onSubmit:W,children:[(0,d.jsx)("input",{name:"choosePlaylist",value:e._id,className:"hidden",readOnly:!0}),(0,d.jsx)("button",{className:"button",onClick:function(){N(e._id)},children:e.name})]})}),(0,d.jsxs)("td",{children:[(0,d.jsx)("input",{name:"editPlaylist",value:e._id,className:"hidden",readOnly:!0}),(0,d.jsx)(i.rU,{to:"/editPlaylist",onClick:function(){return localStorage.setItem("playlistID",e._id)},className:"fa-solid small fa-pen-to-square button"})]}),(0,d.jsx)("td",{children:(0,d.jsx)("form",{onSubmit:X,children:(0,d.jsx)("button",{onClick:function(){P(e._id)},className:"button small fa-solid fa-trash",type:"submit"})})})]},e._id)}))}),[H,W,X,N,P]),ee=(0,c.useMemo)((function(){return F.slice(B,K).map((function(e){return(0,d.jsx)(u.Z,{userID:e.user,userName:a.userName,id:e._id,text:e.name},e._id)}))}),[F,B,K,a.userName]);return(0,c.useEffect)((function(){H.length!==_.length&&A(Y),F.length!==U.length&&E(ee)}),[H.length,F.length,_.length,U.length,Y,ee]),(0,d.jsxs)("section",{className:"flex tables",children:[(0,d.jsxs)("div",{className:"table-wrapper",children:[(0,d.jsx)("h2",{className:"tableHeading",children:"Songs"}),(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Song Name"}),(0,d.jsx)("th",{}),(0,d.jsx)("th",{children:"Playlist"}),(0,d.jsx)("th",{children:"Delete"}),(0,d.jsx)("th",{children:"User"})]})}),(0,d.jsx)("tbody",{children:U})]}),(0,d.jsx)("div",{className:"pagination",children:Array.from({length:Math.ceil(y.length/5)},(function(e,t){return(0,d.jsx)("button",{onClick:function(){V(t+1)},className:"button small",children:t+1},t)}))})]}),(0,d.jsxs)("div",{className:"table-wrapper",children:[(0,d.jsx)("h2",{className:"tableHeading",children:"Playlists"}),(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Playlist Name"}),(0,d.jsx)("th",{children:"Edit"}),(0,d.jsx)("th",{children:"Delete"})]})}),(0,d.jsx)("tbody",{children:_})]})]})]})},f=c.memo(h),p=n(5671),x=n(3144),m=n(136),j=n(9388),y=n(6659),g=(n(7226),function(e){(0,m.Z)(n,e);var t=(0,j.Z)(n);function n(){var e;(0,p.Z)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={currentMusicIndex:0,playlist:[],playlistName:""},e.handleClickPrevious=function(){e.setState((function(e){return{currentMusicIndex:0===e.currentMusicIndex?e.playlist.length-1:e.currentMusicIndex-1}}))},e.handleClickNext=function(){e.setState((function(e){return{currentMusicIndex:e.currentMusicIndex<e.playlist.length-1?e.currentMusicIndex+1:0}}))},e}return(0,x.Z)(n,[{key:"componentDidMount",value:function(){var e=this;try{fetch("https://illya-site-backend-production.up.railway.app/currentPlaylist").then((function(e){return e.json()})).then((function(t){var n=t;if(Object.keys(n[0].playlist).length<1&&localStorage.getItem("playlist"))fetch("https://illya-site-backend-production.up.railway.app/audio").then((function(e){return e.json()})).then((function(t){if(t){var n=t.filter((function(e){return e.user===localStorage.getItem("id")})).map((function(e){return{name:e.name,src:e.audio}}));e.setState({playlist:n})}}));else{var r=n[0].playlist.name,a=n[0].playlist.songs.map((function(e){return{name:e.name,src:e.audio}}));e.setState({playlistName:r}),e.setState({playlist:a})}}))}catch(t){return void console.error(t)}}},{key:"render",value:function(){var e=this.state,t=e.currentMusicIndex,n=e.playlist;return(0,d.jsxs)("div",{children:[(0,d.jsxs)("section",{className:"flex",id:"playlist",children:[(0,d.jsxs)("section",{className:"flex column current",children:[(0,d.jsx)("h4",{children:"Currently Playing Song"}),(0,d.jsx)("h2",{children:n[t]?n[t].name:"No music has been added"})]}),(0,d.jsxs)("section",{className:"flex column",children:[(0,d.jsx)("h2",{children:"Playlist Name"}),(0,d.jsx)("h2",{children:this.state.playlistName?this.state.playlistName:"N/A"})]})]}),n.length>0&&(0,d.jsx)(y.Z,{onEnded:this.handleClickNext,autoPlayAfterSrcChange:!0,autoPlay:!0,showSkipControls:!0,showJumpControls:!1,src:n[t].src,onClickPrevious:this.handleClickPrevious,onClickNext:this.handleClickNext},t)]})}}]),n}(c.Component)),b=g,v=function(){var e=(0,c.useContext)(o.Iu),t=(0,c.useState)({}),n=(0,r.Z)(t,2),l=n[0],i=n[1];return(0,c.useEffect)((function(){try{e.then((function(e){i(e)}))}catch(t){return void console.error(t)}}),[e,l]),(0,d.jsxs)("div",{children:[(0,d.jsx)(s.Z,{}),(0,d.jsx)("div",{id:"main",children:(0,d.jsx)("article",{className:"post",children:(0,d.jsxs)("section",{className:"major column flex",children:[(0,d.jsx)("h1",{className:"flex justifyContent",children:l.userName}),(0,d.jsx)(b,{}),(0,d.jsx)(f,{})]})})}),(0,d.jsx)(a.Z,{}),(0,d.jsx)("div",{id:"copyright",children:"\xa9 choir Design: HTML5 UP"})]})}}}]);
//# sourceMappingURL=465.c9a28c2e.chunk.js.map